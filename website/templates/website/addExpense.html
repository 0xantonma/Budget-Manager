{% extends 'website/base.html' %}
{% load static %}
{% block title %}Add Expense - Budget Manager{% endblock %}


{% block body %}
<div class="row" style="margin-top: 50px;">
   
    <div class="col-12">
        <div class="card my-4">
            <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
              <div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3">
                <h6 class="text-white text-capitalize ps-3">Add Expense</h6>
              </div>
            </div>
            <div class="card-body px-0 pb-2" style="margin: 15px;">
                <form role="form" method="POST" action="{% url 'addExpense' %}" class="text-start">
                    {% csrf_token %}
                    <div class="input-group input-group-outline my-3">
                        <label class="form-label">Amount ({{ currencySymbol.settingValue }})</label> 
                        <input type="number" name="amount" maxlength="250" required id="id_amount" class="form-control">
                      </div>

                      <div class="input-group input-group-outline my-3">
                       
                        <input type="date" id="id_date" name="date"
       value="{{ time }}"
       min="2021-01-01" max="{{ time }}" class="form-control">
                      </div>

                      <div class="input-group input-group-outline my-3">
                        <textarea name="note" placeholder="Note" class="form-control" required id="id_note" cols="30" rows="10"></textarea>
                      </div>

                      <div class="input-group input-group-outline my-3">
                        
                        <select name="category" id="id_category" class="form-control">
                            {% for key, value in categories.items %}
                            <optgroup label="{{ key }}">
                              {% for key2, value2 in value.items %}
                                  {% for i in value2 %}
                                  <option value="{{ i.pk }}">{{ i.name }}</option>
                                  {% endfor %}
                                
                              {% endfor %}
                            </optgroup>
                            {% endfor %}
                        </select>
                      </div>
                 
                  
                    <div class="text-center">
                        <button type="submit" class="btn bg-gradient-primary w-100 my-4 mb-2">Add</button>
                      </div>
                  </form>
                
              
            </div>
          </div>
    </div>
  </div>
{% endblock %}